{
  "title": "開発環境メモ 0.20210504.0",
  "closed": true,
  "archived": true,
  "created_at": "2021-05-02",
  "comments": [
    {
      "author": "oooooooo",
      "created_at": "2021-05-02",
      "body_markdown": "# 開発環境メモ\n\nルールなど。\n\n## 原則\n\n- テキストファイルは lint があるなら利用\n  - eslint、prettier\n  - Microsoft Editor、grammarly\n- 四半期や最低一年に一回バージョン更新\n  - Node.js や React など新しく安定したものを\n- 自動化、自動化、自動化\n\n## テキスト\n\nExcel といった Office 製品、PDF は使わない。入力や更新に時間がかかり、変更管理も難しいため。代わりに下記を検討。\n\n- Markdown\n- [PlantUML - シンプルなテキストファイルで UML が書ける、オープンソースのツール](https://plantuml.com/ja/)\n- [Diagrams · Diagram as Code](https://diagrams.mingrammer.com/)\n- [Graphviz - Graph Visualization Software](https://graphviz.org/)\n\n## テスト\n\nCI/CD する。\n\n- [組織にテストを書く文化を根付かせる戦略と戦術](https://www.slideshare.net/t_wada/test-strategy-and-tactics)\n- [スピード感重視なのでテストは書かない。テストはなぜ開発を遅くするか - Qiita](https://qiita.com/aimof/items/d68bdb347283ee2dbccf)\n\n## Docker\n\n### Distroless を使う\nalpine は互換性やパフォーマンスに問題があり、slim は含まれるパッケージが脆弱性につながる可能性があるため Distroless を使う。\n\nシェルも含まないため [デバッグは Debug Images](https://github.com/GoogleContainerTools/distroless#debug-images) を使う。\n\n- [軽量Dockerイメージに安易にAlpineを使うのはやめたほうがいいという話 - inductor's blog](https://blog.inductor.me/entry/alpine-not-recommended)\n- [Distrolessを使った2021年最新のDocker環境を試した[Node.js/NestJS]](https://zenn.dev/necocoa/articles/nestjs-docker)\n\n### Dockerfile のベストプラクティスと lint\n- [Best practices for writing Dockerfiles | Docker Documentation](https://docs.docker.com/develop/develop-images/dockerfile_best-practices/)\n- [hadolint/hadolint: Dockerfile linter, validate inline bash, written in Haskell](https://github.com/hadolint/hadolint)\n\n## git\n\n### main, develop, feature\n\nリリース戦略によって git なんとか flow を使いましょう。\n\n基本は main はリリース版。develop は次期リリース版。feature で Issues 単位でブランチを切って develop にプルリクしましょう。\n\nfeature 名は Issues 番号だけでなく、その内容が分かるタイトルも付けましょう。例えば 123-add-saml や 666-responsive-video-tag など。ポストモーテムするときに役立ちます。\n\n- git なんちゃら flow\n  - [git-flow cheatsheet](https://danielkummer.github.io/git-flow-cheatsheet/index.ja_JP.html)\n  - [GitHub Flow (Japanese translation)](https://gist.github.com/Gab-km/3705015)\n  - [Introduction to GitLab Flow | GitLab](https://docs.gitlab.com/ee/topics/gitlab_flow.html)\n  - [GitFlowは使わない！シンプルな「GitFeatureFlow」を紹介します - ぐるなびをちょっと良くするエンジニアブログ](https://developers.gnavi.co.jp/entry/GitFeatureFlow/koyama)\n- [GitHub、これから作成するリポジトリのデフォルトブランチ名が「main」に。「master」から「main」へ変更 － Publickey](https://www.publickey1.jp/blog/20/githubmainmastermain.html)\n\n### こまめにコミット\n\n最低でも一日一回コミット。昼前コミットも強く推奨。翌日、あなたの急病や事故で一日分のコミットがなくてメンバーが困ることがあります。\n\n途中であれば頭に WIP を付けてコミットしましょう。もしコミットを忘れるようであれば cron で強制的に自動コミット しましょう。\n\n- [Draft Pull Requestをリリースしました - GitHubブログ](https://github.blog/jp/2019-02-19-introducing-draft-pull-requests/)\n\n### pre-commit\n\n[Husky](https://github.com/typicode/husky) を使ってコミット前に下記実行。WIP なら jest なしでコミット許可。\n\n- elint\n- prettier\n- jest\n- git-secrets\n\n### Tips\n\n- [so-fancy/diff-so-fancy: Good-lookin' diffs. Actually… nah… The best-lookin' diffs.](https://github.com/so-fancy/diff-so-fancy) ... git diff を分かりやすく\n- [jonas/tig: Text-mode interface for git](https://github.com/jonas/tig) ... ログを見たり差分を見るのに便利。[スクリーンショット](https://www.flickr.com/photos/jonasfonseca/albums/72157614470764617)\n- [Visual Studio Live Share | Visual Studio - Visual Studio](https://visualstudio.microsoft.com/ja/services/live-share/) ... コードのリアルタイムな共同開発\n\n## フロントエンド\n\n### 選定技術\n\n> ECMAScript2020 / TypeScript\nReact / React Hooks\nNext.js\nTailwind CSS\neslint, prettier...\nNode.js, npm, ...\njest\nCypress\nReact Hook Form + Yup\n[大規模チームの中でフロントエンドを立ち上げて2ヶ月経ったのでまとめる](https://zenn.dev/erukiti/articles/frontend-team-building)\n\n### JavaScript 情報源\n\n- [開発者向けのウェブ技術 | MDN](https://developer.mozilla.org/ja/docs/Web) ... 信頼の MDN。他サイトは古かったり間違っていることがあるので注意\n- [JSer.info](http://jser.info/) - 週刊 JavaScript 情報\n\n## 知っておくとよいこと\n\n- [DRY 原則](https://xn--97-273ae6a4irb6e2hsoiozc2g4b8082p.com/%E3%82%A8%E3%83%83%E3%82%BB%E3%82%A4/DRY%E5%8E%9F%E5%89%87/) ...繰り返しを避ける\n  - ゼロに近づける ... 例えば自動化すれば作業や手順書はゼロになる。ほかにもセットアップやイントールを簡単に、UI もマウス移動量やクリック数を少なく、重要情報はプッシュさせることでプルさせない、仕組み化でルールや気をつけることを減らす工夫を\n- [YAGNI](https://ja.wikipedia.org/wiki/YAGNI) ... 機能は実際に必要となるまでは追加しない\n- [セマンティック バージョニング](https://semver.org/lang/ja/) ... メジャー、マイナー、パッチで表すバージョン表記\n- [マーフィーの法則](https://ja.wikipedia.org/wiki/%E3%83%9E%E3%83%BC%E3%83%95%E3%82%A3%E3%83%BC%E3%81%AE%E6%B3%95%E5%89%87) ... 落としたトーストがバターを塗った面を下にして着地する確率は、カーペットの値段に比例する\n- [自転車置場の議論](http://0xcc.net/blog/archives/000135.html) ... どうでもいいようなことだからこそ議論が紛糾\n- [yak shaving](http://0xcc.net/blog/archives/000196.html) ... Google や GitHub、Stack Overflow で刈る量を減らせる\n-  Dont' guess, maesure ... [「推測するな、計測せよ」を推測するな - Qiita](https://qiita.com/e99h2121/items/e8f899756b21b0414835)\n\n## コマンドライン\n\n- [The Art of Command Line](https://github.com/jlevy/the-art-of-command-line/blob/master/README-ja.md)\n- [commandlinefu](https://www.commandlinefu.com/commands/browse) - クックブック\n\n## 年一\n\n- [Roadmap to becoming a web developer in 20XX](https://github.com/kamranahmedse/developer-roadmap) ... フロントエンド、バックエンド、DevOps のトレンド\n- [The State of JavaScript Survey](https://stateofjs.com/)\n\n## 推奨書籍\n\n- [達人プログラマー ―熟達に向けたあなたの旅― 第2版 | David Thomas, Andrew Hunt, 村上雅章 | 工学 | Kindleストア | Amazon](https://www.amazon.co.jp/dp/B08T9BXSVD) ... バージョン管理やテスト、自動化などピンとこないなら\n- [入門 監視 ―モダンなモニタリングのためのデザインパターン | Mike Julian, 松浦 隼人 |本 | 通販 | Amazon](https://www.amazon.co.jp/dp/4873118646) ... どのようなログを残すか、どのようにエラーを通知して検知するか。第一章から第三章は必読\n- [リーダブルコード ―より良いコードを書くためのシンプルで実践的なテクニック (Theory in practice) | Dustin Boswell, Trevor Foucher, 須藤 功平, 角 征典 |本 | 通販 | Amazon](https://www.amazon.co.jp/dp/4873115655) ... コメントや命名規則に迷うなら\n- [レガシーコード改善ガイド | マイケル・C・フェザーズ, 平澤章, 越智典子, 稲葉信之, 田村友彦, 小堀真義, ウルシステムズ株式会社, ウルシステムズ株式会社 | コンピュータ・IT | Kindleストア | Amazon](https://www.amazon.co.jp/dp/B01AN97W08) ... レガシーコードとはテストのないコード\n- [新装版　リファクタリング　既存のコードを安全に改善する | ＭａｒｔｉｎＦｏｗｌｅｒ, 児玉公信, 友野晶夫, 平澤章, 梅澤真史 | 工学 | Kindleストア | Amazon](https://www.amazon.co.jp/dp/B01IGW5MG0) ... リファクタリングするのにテストがないなら、それは新しいレガシーコードの生産\n\n\n",
      "body_updated_at": "2021-05-04"
    }
  ]
}